!function(e){e.ajaxPrefilter(function(t,a,n){"string"!=typeof t.data||-1===t.url.indexOf("action=ajax-tag-search")&&-1===t.data.indexOf("action=ajax-tag-search")||!(lang=e(".post_lang_choice").val())&&!(lang=e(':input[name="inline_lang_choice"]').val())||(t.data="lang="+lang+"&"+t.data)})}(jQuery),function(i){tagBox.get=function(n){var e=n.substr(n.indexOf("-")+1),t={action:"get-tagcloud",lang:i(".post_lang_choice").val(),tax:e};i.post(ajaxurl,t,function(t,a){0!=t&&"success"==a||(t=wpAjax.broken),t=i('<div id="tagcloud-'+e+'" class="the-tagcloud">'+t+"</div>"),i("a",t).click(function(){return tagBox.flushTags(i(this).closest(".inside").children(".tagsdiv"),this),!1}),(v=i(".the-tagcloud").css("display"))?(i(".the-tagcloud").replaceWith(t),i(".the-tagcloud").css("display",v)):i("#"+n).after(t)})}}(jQuery),function(o){o(document).bind("DOMNodeInserted",function(t){var a=o(t.target);if("inline-edit"==a.attr("id")){var n=a.prev().attr("id").replace("post-","");if(0<n){var e=a.find(':input[name="inline_lang_choice"]'),i=o("#lang_"+n).html();e.val(i),l(i),s(i),e.change(function(){l(o(this).val()),s(o(this).val())})}}function l(e){"undefined"!=typeof pll_term_languages&&o.each(pll_term_languages,function(n,t){o.each(t,function(a,t){o.each(t,function(t){id="#"+a+"-"+pll_term_languages[n][a][t],e==n?o(id).show():o(id).hide()})})})}function s(n){"undefined"!=typeof pll_page_languages&&o.each(pll_page_languages,function(a,t){o.each(t,function(t){v=o('#post_parent option[value="'+pll_page_languages[a][t]+'"]'),n==a?v.show():v.hide()})})}})}(jQuery),function(i){i(document).ajaxSuccess(function(t,a,n){var e;n.data instanceof FormData?(e={},n.data.forEach(function(t,a){e[t]=a})):e=wpAjax.unserialize(n.data),void 0!==e.action&&"inline-save"==e.action&&function(t){var a=new Array;i(".translation_"+t).each(function(){a.push(i(this).parent().parent().attr("id").substring(5))});var n={action:"pll_update_post_rows",post_id:t,translations:a.join(","),post_type:i("input[name='post_type']").val(),screen:i("input[name='screen']").val(),_pll_nonce:i("input[name='_inline_edit']").val()};i.post(ajaxurl,n,function(t){if(t){var a=wpAjax.parseAjaxResponse(t,"ajax-response");i.each(a.responses,function(){"row"==this.what&&i("#post-"+this.supplemental.post_id).replaceWith(this.data)})}})}(e.post_ID)})}(jQuery),jQuery(document).ready(function(i){var l=new Array;function s(){i(".tr_lang").each(function(){var n=i(this).attr("id").substring(8),e=i(this).parent().parent().siblings(".pll-edit-column");i(this).autocomplete({minLength:0,source:ajaxurl+"?action=pll_posts_not_translated&post_language="+i(".post_lang_choice").val()+"&translation_language="+n+"&post_type="+i("#post_type").val()+"&_pll_nonce="+i("#_pll_nonce").val(),select:function(t,a){i("#htr_lang_"+n).val(a.item.id),e.html(a.item.link)}}),i(this).blur(function(){i(this).val()||(i("#htr_lang_"+n).val(0),e.html(e.siblings(".hidden").children().clone()))})})}i(".categorydiv").each(function(){var t,a;(t=i(this).attr("id").split("-")).shift(),a=t.join("-"),l.push(a),i("#"+a+"-add-submit").before(i("<input />").attr("type","hidden").attr("id",a+"-lang").attr("name","term_lang_choice").attr("value",i(".post_lang_choice").val()))}),i(".post_lang_choice").change(function(){var t=i(this).val(),n=i(this).children('option[value="'+t+'"]').attr("lang"),e=i('.pll-translation-column > span[lang="'+n+'"]').attr("dir"),a={action:"post_lang_choice",lang:t,post_type:i("#post_type").val(),taxonomies:l,post_id:i("#post_ID").val(),_pll_nonce:i("#_pll_nonce").val()};i.post(ajaxurl,a,function(t){var a=wpAjax.parseAjaxResponse(t,"ajax-response");i.each(a.responses,function(){switch(this.what){case"translations":i(".translations").html(this.data),s();break;case"taxonomy":var t=this.data;i("#"+t+"checklist").html(this.supplemental.all),i("#"+t+"checklist-pop").html(this.supplemental.populars),i("#new"+t+"_parent").replaceWith(this.supplemental.dropdown),i("#"+t+"-lang").val(i(".post_lang_choice").val());break;case"pages":i("#parent_id").html(this.data);break;case"flag":i(".pll-select-flag").html(this.data);break;case"permalink":var a=i("#edit-slug-box");"-1"!=this.data&&a.children().length&&a.html(this.data)}}),i(".tagcloud-link").each(function(){var t=i(this).attr("id");tagBox.get(t)}),i("body").removeClass("pll-dir-rtl").removeClass("pll-dir-ltr").addClass("pll-dir-"+e),i("#content_ifr").contents().find("html").attr("lang",n).attr("dir",e),i("#content_ifr").contents().find("body").attr("dir",e)})}),s()});
